<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contact Us - Path to Awareness and Growth</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <div class="bubble-background">
        <div class="bubble"></div>
        <div class="bubble"></div>
        <div class="bubble"></div>
        <div class="bubble"></div>
        <div class="bubble"></div>
        <div class="bubble"></div>
        <div class="bubble"></div>
        <div class="bubble"></div>
    </div>
    <button id="themeToggle" class="theme-toggle">
        <i class="fas fa-moon"></i>
    </button>
    <div class="app-container">
        <header class="main-header">
            <div class="header-content">
                <h1>Path to Awareness and Growth</h1>
                <p class="header-subtitle">Begin your journey to self-discovery</p>
                <!-- Add profile container -->
                <div id="profileContainer" class="profile-container">
                    <div class="profile-wrapper">
                        <img id="profilePicture" alt="Profile" class="profile-picture">
                        <div id="profileMenu" class="profile-menu">
                            <div class="profile-menu-item" onclick="openMyAccountModal()">
                                My Account
                            </div>
                            <div class="profile-menu-logout" onclick="logout()">
                                <i class="fas fa-sign-out-alt"></i>
                                <span>Logout</span>
                            </div>
                        </div>
                    </div>
                    <span id="userEmail" class="user-email"></span>
                </div>
            </div>
        </header>

        <nav class="main-nav">
            <a href="home.html" class="nav-button" target="_self">
                <i class="fas fa-home"></i>
                <span>Home</span>
            </a>
            <a href="plan.html" class="nav-button" target="_self">
                <i class="fas fa-map"></i>
                <span>Plan</span>
            </a>
            <a href="bible.html" class="nav-button" target="_self">
                <i class="fas fa-book"></i>
                <span>Bible</span>
            </a>
            <a href="contacts.html" class="nav-button active" target="_self">
                <i class="fas fa-address-book"></i>
                <span>Contacts</span>
            </a>
        </nav>

        <main class="main-content">
            <div class="section-header">
                <h2>Contact Us</h2>
                <p>Get in touch with us for support and guidance</p>
            </div>

            <div class="contact-container">
                <div class="contact-info">
                    <div class="contact-card">
                        <i class="fas fa-envelope"></i>
                        <h3>Email Us</h3>
                        <p>General Inquiries: <a href="mailto:support@spozify.com">support@spozify.com</a></p>
                        <p>Emergency Support: <a href="mailto:emergency@spozify.com">emergency@spozify.com</a></p>
                    </div>

                    <div class="prevention-resources">
                        <h3>Prevention Resources</h3>
                        
                        <div class="resource-card">
                            <i class="fas fa-shield-alt"></i>
                            <h4>Sexual Harassment Prevention</h4>
                            <ul>
                                <li><a href="https://www.stopbullying.gov/resources/sexual-harassment" target="_blank">StopBullying.gov - Sexual Harassment Resources</a></li>
                                <li><a href="https://www.rainn.org/prevention" target="_blank">RAINN - Prevention Education</a></li>
                            </ul>
                        </div>

                        <div class="resource-card">
                            <i class="fas fa-mobile-alt"></i>
                            <h4>Social Media Addiction</h4>
                            <ul>
                                <li><a href="https://www.psychologytoday.com/us/basics/social-media-addiction" target="_blank">Psychology Today - Social Media Addiction</a></li>
                                <li><a href="https://www.addictioncenter.com/drugs/social-media-addiction/" target="_blank">Addiction Center - Social Media Addiction</a></li>
                            </ul>
                        </div>

                        <div class="resource-card">
                            <i class="fas fa-users"></i>
                            <h4>Peer Pressure</h4>
                            <ul>
                                <li><a href="https://www.parents.com/kids/problems/peer-pressure/" target="_blank">Parents.com - Handling Peer Pressure</a></li>
                                <li><a href="https://www.verywellfamily.com/peer-pressure-and-teens-2606643" target="_blank">VeryWell Family - Teen Peer Pressure</a></li>
                            </ul>
                        </div>

                        <div class="resource-card">
                            <i class="fas fa-exclamation-triangle"></i>
                            <h4>Harmful Pranks</h4>
                            <ul>
                                <li><a href="https://www.safeschools.info/content/HSpranks.htm" target="_blank">Safe Schools - Dangerous Pranks</a></li>
                                <li><a href="https://www.education.govt.nz/school/student-support/student-wellbeing/student-safety/" target="_blank">Education.govt.nz - Student Safety</a></li>
                            </ul>
                        </div>

                        <div class="resource-card">
                            <i class="fas fa-globe"></i>
                            <h4>Cyberbullying</h4>
                            <ul>
                                <li><a href="https://www.stopbullying.gov/cyberbullying/prevention" target="_blank">StopBullying.gov - Cyberbullying Prevention</a></li>
                                <li><a href="https://www.norton.com/blog/cyberbullying" target="_blank">Norton - Cyberbullying Resources</a></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </main>

        <!-- Chat Feature -->
        <div class="chat-widget">
            <button class="chat-toggle" aria-label="Toggle chat">
                <i class="fas fa-comments"></i>
            </button>
            
            <div class="chat-container">
                <div class="chat-header">
                    <h3>Support Guide</h3>
                    <div class="chat-actions">
                        <button class="close-chat" title="Close">
                            <i class="fas fa-times"></i>
                        </button>
                    </div>
                </div>
                
                <div class="chat-messages"></div>
                
                <div class="chat-input-container">
                    <textarea class="chat-input" placeholder="Share your thoughts..." rows="3"></textarea>
                    <button class="send-message" title="Send">
                        <i class="fas fa-paper-plane"></i>
                    </button>
                </div>
            </div>
        </div>

        <!-- My Account Modal -->
        <div id="myAccountModal" class="modal">
            <div class="modal-content">
                <span class="close-modal" onclick="closeMyAccountModal()">&times;</span>
                <h2>My Account</h2>

                <div class="action-group">
                    <h3><i class="fas fa-book"></i> My Reflections</h3>
                    <div id="reflectionHistory" style="max-height: 300px; overflow-y: auto; padding: 1rem; background: var(--background); border-radius: var(--radius-sm); margin-bottom: 2rem;">
                        <!-- Reflection entries will be added here dynamically -->
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="js/main.js"></script>
    <script>
        document.getElementById('contactForm').addEventListener('submit', function(e) {
            e.preventDefault();
            // Add form submission logic here
            alert('Thank you for your message. We will get back to you soon!');
            this.reset();
        });

        // Add profile picture click handler
        document.addEventListener('DOMContentLoaded', () => {
            const profilePic = document.getElementById('profilePicture');
            const profileMenu = document.getElementById('profileMenu');
            
            if (profilePic) {
                profilePic.addEventListener('click', (e) => {
                    e.stopPropagation();
                    profileMenu.style.display = profileMenu.style.display === 'none' ? 'block' : 'none';
                });
            }
            
            // Close menu when clicking outside
            document.addEventListener('click', () => {
                if (profileMenu) {
                    profileMenu.style.display = 'none';
                }
            });

            // Check if user was previously logged in
            const userEmail = localStorage.getItem('userEmail');
            const profilePicUrl = localStorage.getItem('profilePicUrl');
            if (userEmail && profilePicUrl) {
                document.getElementById('profilePicture').src = profilePicUrl;
                document.getElementById('userEmail').textContent = userEmail;
                document.getElementById('profileContainer').style.display = 'flex';
            }
        });

        function logout() {
            // Clear all user-related data from localStorage
            localStorage.removeItem('userPreference');
            localStorage.removeItem('userEmail');
            localStorage.removeItem('profilePicUrl');
            
            // Reset UI
            document.getElementById('profileContainer').style.display = 'none';
            location.reload();
        }

        function openMyAccountModal() {
            document.getElementById('myAccountModal').style.display = 'block';
            document.body.style.overflow = 'hidden';
            document.getElementById('profileMenu').style.display = 'none';
            updateReflectionHistory();
        }

        function closeMyAccountModal() {
            document.getElementById('myAccountModal').style.display = 'none';
            document.body.style.overflow = 'auto';
        }

        function switchReflectionTab(tabName) {
            // Update tab styles
            document.querySelectorAll('.reflection-tab').forEach(tab => {
                if (tab.textContent.toLowerCase().includes(tabName)) {
                    tab.style.background = 'var(--primary)';
                    tab.style.color = 'white';
                } else {
                    tab.style.background = 'var(--background)';
                    tab.style.color = 'var(--text)';
                }
            });
            
            // Show/hide content
            document.querySelectorAll('.reflection-content').forEach(content => {
                content.style.display = 'none';
            });
            document.getElementById(tabName + 'Reflection').style.display = 'block';
        }

        function saveReflection() {
            const activeTab = Array.from(document.querySelectorAll('.reflection-tab'))
                .find(tab => tab.style.background.includes('var(--primary)'))
                .textContent.toLowerCase().split(' ')[1];
            const reflectionText = document.querySelector(`#${activeTab}Reflection textarea`).value.trim();
            
            if (reflectionText) {
                const reflections = JSON.parse(localStorage.getItem('reflections') || '[]');
                reflections.push({
                    type: activeTab,
                    text: reflectionText,
                    date: new Date().toISOString()
                });
                localStorage.setItem('reflections', JSON.stringify(reflections));
                
                // Clear the textarea
                document.querySelector(`#${activeTab}Reflection textarea`).value = '';
                
                // Update reflection history
                updateReflectionHistory();
            }
        }

        function updateReflectionHistory() {
            const reflectionHistory = document.getElementById('reflectionHistory');
            const reflections = JSON.parse(localStorage.getItem('reflections') || '[]');
            
            reflectionHistory.innerHTML = reflections.length ? '' : '<p style="color: var(--text-light);">No reflections yet.</p>';
            
            reflections.reverse().forEach((reflection, index) => {
                const date = new Date(reflection.date).toLocaleDateString();
                const typeIcon = {
                    personal: 'user',
                    spiritual: 'pray',
                    gratitude: 'heart'
                }[reflection.type];
                
                reflectionHistory.innerHTML += `
                    <div style="border-bottom: 1px solid var(--border); padding: 1rem 0; margin-bottom: 1rem;">
                        <div style="display: flex; align-items: center; gap: 0.5rem; margin-bottom: 0.5rem;">
                            <i class="fas fa-${typeIcon}" style="color: var(--primary);"></i>
                            <span style="font-weight: 600; color: var(--primary);">${reflection.type.charAt(0).toUpperCase() + reflection.type.slice(1)} Reflection</span>
                            <span style="margin-left: auto; color: var(--text-light); font-size: 0.9rem;">${date}</span>
                            <button onclick="deleteReflection(${index})" style="background: none; border: none; color: var(--text-light); cursor: pointer; padding: 0.25rem; margin-left: 0.5rem; transition: color 0.3s ease;">
                                <i class="fas fa-trash-alt"></i>
                            </button>
                        </div>
                        <p style="color: var(--text); line-height: 1.5;">${reflection.text}</p>
                    </div>
                `;
            });
        }

        function deleteReflection(index) {
            const reflections = JSON.parse(localStorage.getItem('reflections') || '[]');
            reflections.reverse(); // Reverse to match the display order
            reflections.splice(index, 1); // Remove the reflection at the index
            reflections.reverse(); // Reverse back to original order
            localStorage.setItem('reflections', JSON.stringify(reflections));
            updateReflectionHistory(); // Refresh the display
        }

        // Theme toggle functionality
        const themeToggle = document.getElementById('themeToggle');
        const icon = themeToggle.querySelector('i');
        
        // Check for saved theme preference
        const savedTheme = localStorage.getItem('theme');
        if (savedTheme) {
            document.body.setAttribute('data-theme', savedTheme);
            icon.className = savedTheme === 'dark' ? 'fas fa-sun' : 'fas fa-moon';
        }
        
        // Toggle theme
        themeToggle.addEventListener('click', () => {
            const currentTheme = document.body.getAttribute('data-theme');
            const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
            
            document.body.setAttribute('data-theme', newTheme);
            localStorage.setItem('theme', newTheme);
            
            // Update icon
            icon.className = newTheme === 'dark' ? 'fas fa-sun' : 'fas fa-moon';
        });
    </script>
</body>
</html> 